<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IRAQEDU</title>
    <style>
        /* ... (ابق على نفس الأنيميشن والأساسيات) */

        :root {
            --primary: #6a5acd;
            --dark-bg: #0a0a0a;
            --dark-text: #f5f5f5;
            --dark-card: #1a1a1a;
            --dark-border: #333;
        }

        /* ... (ابق على نفس التنسيقات العامة) */

        .custom-video-player {
            width: 100%;
            max-width: 800px;
            margin: 2rem auto;
            display: none;
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .custom-video-player video {
            width: 100%;
            display: block;
        }

        .player-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .custom-video-player:hover .player-controls {
            transform: translateY(0);
        }

        .control-btn {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 18px;
            padding: 5px;
        }

        .progress-bar {
            flex-grow: 1;
            height: 5px;
            background: #444;
            position: relative;
            cursor: pointer;
        }

        .progress-filled {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: var(--primary);
            width: 0%;
        }

        .fullscreen-btn {
            margin-left: auto;
        }

       @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(30px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        * {
            box-sizing: border-box;
            font-family: 'Almarai', 'Tajawal', Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        :root {
            --primary: #6a5acd; /* لون أزرق بنفسجي */
            --dark-bg: #0a0a0a;
            --dark-text: #f5f5f5;
            --dark-card: #1a1a1a;
            --dark-border: #333;
        }

        body {
            background: var(--dark-bg);
            color: var(--dark-text);
            line-height: 1.6;
        }

        header {
            background: var(--dark-card);
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            box-shadow: 0 3px 6px rgba(0,0,0,0.16);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            height: 60px;
            animation: slideIn 0.8s ease-out;
        }

        .site-title {
            color: var(--primary);
            font-size: 2.2rem;
            font-weight: bold;
            font-family: 'Almarai', sans-serif;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .search-container {
            margin: 2rem auto;
            max-width: 600px;
            padding: 0 1rem;
        }

        #searchInput {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid var(--dark-border);
            border-radius: 8px;
            background: var(--dark-card);
            color: var(--dark-text);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        #searchInput:focus {
            border-color: var(--primary);
            box-shadow: 0 0 8px rgba(106, 90, 205, 0.6);
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .teachers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .teacher-card {
            background: var(--dark-card);
            border-radius: 12px;
            padding: 1rem;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: 0.3s;
            animation: fadeIn 0.6s ease-out;
            border: 2px solid var(--primary);
        }

        .teacher-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(106, 90, 205, 0.4);
        }

        .teacher-img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 8px;
            border: 2px solid var(--primary);
        }

        .teacher-name {
            color: var(--dark-text);
            margin: 1rem 0;
            text-align: center;
            font-size: 1.1rem;
            font-weight: 700;
        }

        .classes-list {
            display: none;
            margin-top: 2rem;
            background: var(--dark-card);
            padding: 1.5rem;
            border-radius: 12px;
            border: 2px solid var(--primary);
            animation: fadeIn 0.4s ease-out;
        }

        .class-item {
            padding: 1rem;
            margin: 0.5rem 0;
            background: var(--dark-bg);
            border-radius: 8px;
            cursor: pointer;
            transition: 0.3s;
            border: 1px solid var(--dark-border);
            color: var(--dark-text);
        }

        .class-item:hover {
            background: var(--primary);
            color: white;
            transform: translateX(10px);
        }

        .lectures-list {
            display: none;
            margin-top: 1rem;
            padding-left: 1rem;
            animation: fadeIn 0.4s ease-out;
        }

        .lecture-item {
            padding: 0.8rem;
            background: var(--dark-bg);
            margin: 0.3rem 0;
            border-radius: 6px;
            cursor: pointer;
            transition: 0.3s;
            color: var(--dark-text);
            border-left: 4px solid var(--primary);
        }

        .lecture-item:hover {
            background: #4a3a8d;
            transform: translateX(5px);
        }

        .video-player {
            width: 100%;
            max-width: 800px;
            margin: 2rem auto;
            display: none;
            animation: fadeIn 0.6s ease-out;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        video {
            width: 100%;
            background: black;
        }

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                text-align: center;
            }
            
            .site-title {
                font-size: 1.8rem;
            }
            
            .teacher-img {
                height: 150px;
            }
            
            .teachers-grid {
                grid-template-columns: 1fr;
            }
        }
        /* ... (ابق على باقي التنسيقات) */
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
     <header>
        <img src="https://i.imghippo.com/files/qHV6693jps.jpg" alt="IRAQEDU" class="logo">
        <h1 class="site-title">IRAQEDU</h1>
    </header>

    <div class="search-container">
        <input type="text" id="searchInput" placeholder="ابحث عن مدرس...">
    </div>

    <div class="container">
        <div class="teachers-grid" id="teachersContainer"></div>

        <div id="classesContainer" class="classes-list"></div>
        <div id="lecturesContainer" class="lectures-list"></div>
        <div class="video-player">
            <video id="videoPlayer" controls></video>
        </div>
    </div>
    <!-- ... (ابق على نفس الهيكل السابق حتى script) -->

    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script>
        // ... (ابق على نفس بيانات المدرسين)
    const teachers = [
            {
                id: 2025,
                name: "حيدر عبدالائمة",
                image: "https://i.imghippo.com/files/pB3649RjA.png",
                classes: [
                    {
                        name: "الاعداد المركبة",
                        lectures: [
                            {
                                title: "المحاضرة 1",
                                url: "https://vz-99e5c202-ca5.b-cdn.net/8f6f69a3-112b-4e4e-9d0b-a7aa2d3ff9e8/720p/video.m3u8"
                            },
                            {
                                title: "المحاضرة 2",
                                url: "https://vz-99e5c202-ca5.b-cdn.net/749a4a33-f27c-4859-9b10-fd6e3053558b/720p/video.m3u8"
                            },
                            {
                                title: "المحاضرة 3",
                                url: "https://vz-99e5c202-ca5.b-cdn.net/3e5cb5ee-5d88-4903-b3cd-2683a38307d9/720p/video.m3u8"
                            },
                            {
                                title: "المحاضرة 4",
                                url: "https://vz-99e5c202-ca5.b-cdn.net/897b13b2-7a21-4544-9730-9e6a35b5f421/720p/video.m3u8"
                            },
                       
                        ]
                    },
                
                ]
            },
            
        ];
    
    // توليد بطاقات المدرسين ديناميكيًا
        function renderTeachers(filter = '') {
            const container = document.getElementById('teachersContainer');
            const filteredTeachers = teachers.filter(teacher => 
                teacher.name.includes(filter) || 
                teacher.id.toString().includes(filter)
            );

            const teachersHtml = filteredTeachers.map(teacher => `
                <div class="teacher-card" data-teacher-id="${teacher.id}">
                    <img src="${teacher.image}" alt="${teacher.name}" class="teacher-img">
                    <h3 class="teacher-name">أ. ${teacher.name} - ${teacher.id}</h3>
                </div>
            `).join('');
            
            container.innerHTML = teachersHtml;
        }

        // إضافة ميزة البحث
        document.getElementById('searchInput').addEventListener('input', function(e) {
            renderTeachers(e.target.value);
        });

        // معالجة النقر على أي بطاقة مدرس
        document.getElementById('teachersContainer').addEventListener('click', function(e) {
            const teacherCard = e.target.closest('.teacher-card');
            if(!teacherCard) return;

            // إزالة النشط من جميع البطاقات
            document.querySelectorAll('.teacher-card').forEach(card => {
                card.classList.remove('active');
            });

            // إضافة النشط للبطاقة المحددة
            teacherCard.classList.add('active');

            const teacherId = teacherCard.dataset.teacherId;
            const teacher = teachers.find(t => t.id == teacherId);
            
            const classesHtml = teacher.classes.map(cls => `
                <div class="class-item" data-class="${cls.name}">
                    ${cls.name}
                </div>
            `).join('');

            document.getElementById('classesContainer').innerHTML = classesHtml;
            document.getElementById('classesContainer').style.display = 'block';
            document.getElementById('lecturesContainer').style.display = 'none';
            document.querySelector('.video-player').style.display = 'none';
        });

        // معالجة النقر على الفصول
        document.getElementById('classesContainer').addEventListener('click', function(e) {
            if(e.target.classList.contains('class-item')) {
                const className = e.target.dataset.class;
                const teacherId = document.querySelector('.teacher-card.active')?.dataset.teacherId;
                const teacher = teachers.find(t => t.id == teacherId);
                const cls = teacher.classes.find(c => c.name === className);
                
                const lecturesHtml = cls.lectures.map(lec => `
                    <div class="lecture-item" data-url="${lec.url}">
                        ${lec.title}
                    </div>
                `).join('');

                document.getElementById('lecturesContainer').innerHTML = lecturesHtml;
                document.getElementById('lecturesContainer').style.display = 'block';
                document.querySelector('.video-player').style.display = 'none';
            }
        });

        // معالجة النقر على المحاضرات
        document.getElementById('lecturesContainer').addEventListener('click', function(e) {
            if(e.target.classList.contains('lecture-item')) {
                const videoUrl = e.target.dataset.url;
                const videoPlayer = document.getElementById('videoPlayer');
                const videoContainer = document.querySelector('.video-player');
                
                if(Hls.isSupported()) {
                    const hls = new Hls();
                    hls.loadSource(videoUrl);
                    hls.attachMedia(videoPlayer);
                    hls.on(Hls.Events.MANIFEST_PARSED, function() {
                        videoPlayer.play();
                    });
                } else if (videoPlayer.canPlayType('application/vnd.apple.mpegurl')) {
                    videoPlayer.src = videoUrl;
                    videoPlayer.addEventListener('loadedmetadata', function() {
                        videoPlayer.play();
                    });
                }
                
                videoContainer.style.display = 'block';
                videoPlayer.style.display = 'block';
            }
        });

        // تهيئة أولية
        renderTeachers();

        // مشغل الفيديو المخصص
        class CustomVideoPlayer {
            constructor(container, videoElement) {
                this.container = container;
                this.video = videoElement;
                this.playPauseBtn = container.querySelector('.play-pause');
                this.progressBar = container.querySelector('.progress-bar');
                this.progressFilled = container.querySelector('.progress-filled');
                this.fullscreenBtn = container.querySelector('.fullscreen-btn');
                this.volumeControl = container.querySelector('.volume-control');

                this.setupEvents();
            }

            setupEvents() {
                this.playPauseBtn.addEventListener('click', () => this.togglePlay());
                this.video.addEventListener('click', () => this.togglePlay());
                this.video.addEventListener('play', () => this.updateButton());
                this.video.addEventListener('pause', () => this.updateButton());
                this.video.addEventListener('timeupdate', () => this.updateProgress());
                this.progressBar.addEventListener('click', (e) => this.scrub(e));
                this.fullscreenBtn.addEventListener('click', () => this.toggleFullscreen());
            }

            togglePlay() {
                if(this.video.paused || this.video.ended) {
                    this.video.play();
                } else {
                    this.video.pause();
                }
            }

            updateButton() {
                const icon = this.video.paused ? '▶️' : '⏸️';
                this.playPauseBtn.textContent = icon;
            }

            updateProgress() {
                const percent = (this.video.currentTime / this.video.duration) * 100;
                this.progressFilled.style.width = `${percent}%`;
            }

            scrub(e) {
                const scrubTime = (e.offsetX / this.progressBar.offsetWidth) * this.video.duration;
                this.video.currentTime = scrubTime;
            }

            toggleFullscreen() {
                if(!document.fullscreenElement) {
                    this.container.requestFullscreen();
                } else {
                    document.exitFullscreen();
                }
            }
        }

        // تهيئة المشغل
        const videoContainer = document.querySelector('.custom-video-player');
        const videoElement = document.getElementById('videoPlayer');
        const player = new CustomVideoPlayer(videoContainer, videoElement);

        // منع تنزيل الفيديو
        videoElement.addEventListener('contextmenu', (e) => {
            e.preventDefault();
        });

        document.addEventListener('keydown', (e) => {
            if(e.ctrlKey && (e.key === 's' || e.key === 'S')) {
                e.preventDefault();
            }
        });

        // ... (ابق على باقي الكود السابق)
    </script>
</body>
</html>
